# AI Agent Automation Platform

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Java](https://img.shields.io/badge/Java-17-orange.svg)](https://openjdk.java.net/projects/jdk/17/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Next.js](https://img.shields.io/badge/Next.js-15.3.2-black.svg)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-blue.svg)](https://www.typescriptlang.org/)

Modern AI tabanlƒ± i≈ü s√ºre√ßlerini otomatikle≈ütiren **g√∂rsel flow edit√∂r√º** ve **mikroservis tabanlƒ± agent sistemi**. 

Drag & drop aray√ºz√º ile karma≈üƒ±k AI i≈ü akƒ±≈ülarƒ± olu≈üturun, finansal analiz yapƒ±n, otomatik raporlama ve e-posta g√∂nderimi ger√ßekle≈ütirin.

![AI Agent Flow Editor](https://github.com/user-attachments/assets/e7ca3998-cbaa-4e13-80d5-69dc24be7130)
*AI Agent Flow Editor - G√∂rsel ƒ∞≈ü Akƒ±≈üƒ± Tasarƒ±m Aray√ºz√º*

## üìã ƒ∞√ßindekiler

- [üèóÔ∏è Sistem Mimarisi](#Ô∏è-sistem-mimarisi)
- [üöÄ √ñzellikler](#-√∂zellikler)
- [üè¢ Mikroservis Detaylarƒ±](#-mikroservis-detaylarƒ±)
- [üîÑ Flow Execution Mantƒ±ƒüƒ±](#-flow-execution-mantƒ±ƒüƒ±)
- [üìä √ñrnek Senaryo](#-√∂rnek-senaryo)
- [üõ†Ô∏è Kurulum ve √áalƒ±≈ütƒ±rma](#Ô∏è-kurulum-ve-√ßalƒ±≈ütƒ±rma)
- [üé® Kullanƒ±m](#-kullanƒ±m)
- [üîß API Endpoints](#-api-endpoints)
- [üß™ Test](#-test)
- [üìà Monitoring](#-monitoring)

## üöÄ Quick Start

```bash
# 1. Repository'yi klonlayƒ±n
git clone https://github.com/[your-username]/ai-agent-automation.git
cd ai-agent-automation

# 2. Backend servisleri ba≈ülatƒ±n
mvn clean install
cd mcp-provider && mvn spring-boot:run &
cd ../agent-provider && mvn spring-boot:run &
cd ../ai-provider && mvn spring-boot:run &

# 3. Frontend'i ba≈ülatƒ±n
cd frontend
npm install && npm run dev

# 4. Tarayƒ±cƒ±da a√ßƒ±n: http://localhost:3000
```

## üèóÔ∏è Sistem Mimarisi

Bu proje, **mikroservis mimarisi** ile tasarlanmƒ±≈ü kapsamlƒ± bir AI agent automation platformudur:

### üìä Mikroservis Yapƒ±sƒ±

```
AI Agent Automation Platform
‚îú‚îÄ‚îÄ üé® Frontend (Next.js)          ‚Üí Port: 3000
‚îú‚îÄ‚îÄ ü§ñ AI Provider                 ‚Üí Port: 8082
‚îú‚îÄ‚îÄ üîß Agent Provider              ‚Üí Port: 8081  
‚îî‚îÄ‚îÄ üíº MCP Provider                ‚Üí Port: 8083
```

## üöÄ √ñzellikler

### üéØ ƒ∞≈ü Agentlarƒ± (Business Agents)
- **AI Action Analysis**: Finansal i≈ülem analizi ve aksiyon tespiti
- **MCP Supplier Agent**: MCP protokol√º ile tedarik√ßi entegrasyonu
  - GENERATE_STATEMENT: Ekstre √ºretimi
  - OVERDUE_PAYMENT: Gecikmi≈ü √∂deme kontrol√º
  - SEND_EMAIL: Otomatik e-posta g√∂nderimi

### üîß Genel Agentlar (General Agents)
- **Web Scraper**: Web sitelerinden veri √ßekme
- **Web Searcher**: ƒ∞nternet aramasƒ± ve analizi
- **Code Interpreter**: Kod √ßalƒ±≈ütƒ±rma ve analizi
- **Data Analyst**: Veri analizi ve g√∂rselle≈ütirme
- **Image Generator**: AI ile g√∂rsel √ºretimi
- **Text Generator**: Metin √ºretimi ve d√ºzenleme
- **Translator**: √áok dilli √ßeviri
- **YouTube Summarizer**: Video √∂zetleme
- **Research Agent**: Ara≈ütƒ±rma ve rapor hazƒ±rlama

### üéõÔ∏è Kontrol Yapƒ±larƒ±
- **Conditional Node**: Ko≈üullu dallanma
- **Result Node**: Sonu√ß g√∂r√ºnt√ºleme

## üè¢ Mikroservis Detaylarƒ±

### üé® Frontend (Next.js + TypeScript)
**Port**: 3000 | **Framework**: Next.js 15.3.2 | **Language**: TypeScript 5.8.3

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ flow/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FlowEditor.tsx      # Ana flow edit√∂r√º
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AIAgentNode.tsx     # Agent node bile≈üeni
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConditionalNode.tsx # Ko≈üullu node
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ResultNode.tsx      # Sonu√ß node
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # Shadcn/ui bile≈üenleri
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ customer/               # M√º≈üteri y√∂netimi
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slices/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ flowSlice.ts        # Flow state y√∂netimi
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ customerSlice.ts    # M√º≈üteri state y√∂netimi
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts                # TypeScript tipleri
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ agents.ts               # Agent API √ßaƒürƒ±larƒ±
‚îÇ       ‚îî‚îÄ‚îÄ customer.ts             # M√º≈üteri API'leri
‚îú‚îÄ‚îÄ package.json                    # Dependencies
‚îî‚îÄ‚îÄ tailwind.config.ts              # Styling
```

**Temel Teknolojiler:**
- **React Flow**: G√∂rsel node edit√∂r√º
- **Redux Toolkit**: State y√∂netimi
- **Tailwind CSS**: Styling
- **Radix UI**: UI bile≈üenleri
- **Axios**: HTTP client

### ü§ñ AI Provider (Spring Boot)
**Port**: 8082 | **Framework**: Spring Boot 3.2.5 | **Language**: Java 17

```
ai-provider/
‚îú‚îÄ‚îÄ src/main/java/com/example/aiprovider/
‚îÇ   ‚îú‚îÄ‚îÄ controller/          # REST Controllers
‚îÇ   ‚îú‚îÄ‚îÄ service/            # Business Logic
‚îÇ   ‚îú‚îÄ‚îÄ model/              # Data Models
‚îÇ   ‚îú‚îÄ‚îÄ client/             # External API Clients
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility Classes
‚îÇ   ‚îî‚îÄ‚îÄ exception/          # Exception Handling
‚îú‚îÄ‚îÄ pom.xml                 # Maven Dependencies
‚îî‚îÄ‚îÄ application.properties  # Configuration
```

**Temel Teknolojiler:**
- **Spring Boot Web**: REST API
- **Spring Cloud OpenFeign**: Mikroservis ileti≈üimi
- **Jackson**: JSON processing
- **Lombok**: Code generation

**Sorumluluklar:**
- AI model entegrasyonlarƒ±
- Dƒ±≈ü AI servis √ßaƒürƒ±larƒ±
- Model response i≈üleme

### üîß Agent Provider (Spring Boot)
**Port**: 8081 | **Framework**: Spring Boot 3.2.5 | **Language**: Java 17

```
agent-provider/
‚îú‚îÄ‚îÄ src/main/java/com/example/agentprovider/
‚îÇ   ‚îú‚îÄ‚îÄ controller/          # REST Controllers
‚îÇ   ‚îú‚îÄ‚îÄ service/            # Agent Services
‚îÇ   ‚îú‚îÄ‚îÄ model/              # Agent Models
‚îÇ   ‚îú‚îÄ‚îÄ client/             # HTTP Clients
‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration
‚îú‚îÄ‚îÄ pom.xml                 # Maven Dependencies
‚îî‚îÄ‚îÄ application.properties  # Configuration
```

**Temel Teknolojiler:**
- **Spring Boot WebFlux**: Reactive programming
- **JSoup**: HTML parsing (Web Scraper)
- **Apache POI**: Excel/Word processing
- **JFreeChart**: Chart generation
- **Apache Commons**: Utility libraries

**Sorumluluklar:**
- Web scraping i≈ülemleri
- Veri analizi ve g√∂rselle≈ütirme
- Dosya i≈üleme (Excel, CSV, PDF)
- Code interpretation

### üíº MCP Provider (Spring Boot)
**Port**: 8083 | **Framework**: Spring Boot 3.2.5 | **Language**: Java 17

```
mcp-provider/
‚îú‚îÄ‚îÄ src/main/java/com/example/mcpprovider/
‚îÇ   ‚îú‚îÄ‚îÄ controller/          # REST Controllers
‚îÇ   ‚îú‚îÄ‚îÄ service/            # Business Services
‚îÇ   ‚îú‚îÄ‚îÄ entity/             # JPA Entities
‚îÇ   ‚îú‚îÄ‚îÄ repository/         # Data Repositories
‚îÇ   ‚îú‚îÄ‚îÄ dto/                # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ mapper/             # Object Mappers
‚îÇ   ‚îú‚îÄ‚îÄ config/             # Configuration
‚îÇ   ‚îú‚îÄ‚îÄ client/             # External Clients
‚îÇ   ‚îî‚îÄ‚îÄ enums/              # Enumerations
‚îú‚îÄ‚îÄ pom.xml                 # Maven Dependencies
‚îî‚îÄ‚îÄ application.properties  # Configuration
```

**Temel Teknolojiler:**
- **Spring Boot Data JPA**: Database operations
- **PostgreSQL**: Primary database
- **Spring Boot Mail**: Email sending
- **Thymeleaf**: Template engine
- **iText**: PDF generation
- **Flyway**: Database migrations

**Sorumluluklar:**
- MCP protokol√º implementasyonu
- M√º≈üteri y√∂netimi
- Finansal i≈ülem analizi
- E-posta ve PDF servisleri
- Veritabanƒ± operasyonlarƒ±

## üîÑ Flow Execution Mantƒ±ƒüƒ±

### 1. Topological Sorting
Node'lar dependency sƒ±rasƒ±na g√∂re otomatik sƒ±ralanƒ±r:
```
AI Action Analysis ‚Üí GENERATE_STATEMENT ‚Üí OVERDUE_PAYMENT ‚Üí SEND_EMAIL
```

### 2. Sequential Execution
Her node sƒ±rasƒ±yla √ßalƒ±≈ütƒ±rƒ±lƒ±r ve bir sonrakine ge√ßmeden tamamlanmasƒ± beklenir.

### 3. Data Flow
- √ñnceki node'larƒ±n √ßƒ±ktƒ±larƒ± sonraki node'lara input olarak ge√ßer
- Accumulated responses Redux store'da tutulur
- SEND_EMAIL node t√ºm √∂nceki attachmentIds'leri birle≈ütirir

### 4. Mikroservis ƒ∞leti≈üimi
```mermaid
graph TD
    A[Frontend] --> B[AI Provider]
    A --> C[Agent Provider]
    A --> D[MCP Provider]
    D --> E[PostgreSQL]
    D --> F[Email Service]
    B --> G[External AI APIs]
    C --> H[Web Sources]
```

## üìä √ñrnek Senaryo

### Finansal ƒ∞≈ülem Analizi ve E-posta G√∂nderimi

1. **AI Action Analysis** (MCP Provider)
   - M√º≈üteri se√ßimi ve finansal analiz
   - Gerekli aksiyonlarƒ± tespit eder
   - Output: `financeActionTypes: ['GENERATE_STATEMENT', 'OVERDUE_PAYMENT', 'SEND_EMAIL']`

2. **GENERATE_STATEMENT** (MCP Provider)
   - Ekstre √ºretimi gerekli mi kontrol√º
   - API: `POST /mcp-provider/api/mcp-request`
   - Output: `attachmentIds: [58]`

3. **OVERDUE_PAYMENT** (MCP Provider)
   - Gecikmi≈ü √∂deme kontrol√º
   - API: `POST /mcp-provider/api/mcp-request`
   - Output: `attachmentIds: [59]`

4. **SEND_EMAIL** (MCP Provider)
   - √ñnceki t√ºm attachmentIds'leri birle≈ütirir: `[58, 59]`
   - M√º≈üteriye e-posta g√∂nderir
   - API: `POST /mcp-provider/api/mcp-request`

## üõ†Ô∏è Kurulum ve √áalƒ±≈ütƒ±rma

### Gereksinimler
- **Java 17+**
- **Node.js 18+**
- **Maven 3.8+**
- **PostgreSQL 13+**
- **npm veya yarn**

### 1. Backend Mikroservisleri

#### Parent Project Build
```bash
# T√ºm mikroservisleri build et
mvn clean install
```

#### AI Provider (Port: 8082)
```bash
cd ai-provider
mvn spring-boot:run
```

#### Agent Provider (Port: 8081)
```bash
cd agent-provider
mvn spring-boot:run
```

#### MCP Provider (Port: 8083)
```bash
cd mcp-provider

# PostgreSQL veritabanƒ± olu≈ütur
createdb mcp_db

# Veritabanƒ± migrasyonlarƒ±
mvn flyway:migrate

# Servisi ba≈ülat
mvn spring-boot:run
```

### 2. Frontend Kurulumu
```bash
cd frontend
npm install
npm run dev
```

### Environment Variables

#### Backend (.env veya application.properties)
```properties
# Database
spring.datasource.url=jdbc:postgresql://localhost:5432/mcp_db
spring.datasource.username=postgres
spring.datasource.password=postgres

# Email
spring.mail.host=smtp.gmail.com
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password

# External APIs
RAPIDAPI_YOUTUBE_TRANSCRIPTOR_KEY=your_rapidapi_key
DEEPL_API_AUTH_KEY=your_deepl_api_key
```

#### Frontend (.env.local)
```env
NEXT_PUBLIC_API_URL=http://localhost:8083/mcp-provider
NEXT_PUBLIC_AI_PROVIDER_URL=http://localhost:8082
NEXT_PUBLIC_AGENT_PROVIDER_URL=http://localhost:8081
```

## üé® Kullanƒ±m

### 1. Node Ekleme
- Sol panelden istenen agent tipini s√ºr√ºkle-bƒ±rak
- **ƒ∞≈ü Agentlarƒ±**: M√º≈üteri odaklƒ± operasyonlar
- **Genel Agentlar**: Genel ama√ßlƒ± i≈ülemler

### 2. Node Konfig√ºrasyonu
- Her node'a tƒ±klayarak ayarlarƒ± d√ºzenleyin
- Model konfig√ºrasyonu (GPT, Claude, Hugging Face)
- √ñzel parametreler ve system prompt'lar

### 3. Baƒülantƒ± Kurma
- Node'lar arasƒ± veri akƒ±≈üƒ±nƒ± tanƒ±mlayƒ±n
- Conditional node'lar i√ßin true/false √ßƒ±kƒ±≈ülarƒ±

### 4. Execution
- **"√áalƒ±≈ütƒ±r"** butonu ile flow'u ba≈ülatƒ±n
- Real-time execution durumunu takip edin
- Edge'ler renk kodlu durum g√∂sterir:
  - üî¥ **Kƒ±rmƒ±zƒ±**: Hata
  - üü° **Turuncu**: √áalƒ±≈üƒ±yor
  - üü¢ **Ye≈üil**: Tamamlandƒ±
  - ‚ö™ **Gri**: Bekliyor

## üîß API Endpoints

### MCP Provider (Port: 8083)

#### Customer Management
```http
POST /mcp-provider/api/customers/search
Content-Type: application/json

{
  "query": "customer name or id"
}
```

#### Action Analysis
```http
POST /mcp-provider/action-analysis
Content-Type: application/json

{
  "content": "analysis prompt",
  "model": "huggingface/deepseek/deepseek-v3-0324",
  "customerNo": "12345"
}
```

#### MCP Operations
```http
POST /mcp-provider/api/mcp-request
Content-Type: application/json

{
  "selectedActions": ["SEND_EMAIL"],
  "parameters": {
    "SEND_EMAIL": {
      "customerId": "12345",
      "to": "customer@example.com",
      "subject": "Finansal Rapor",
      "body": "Rapor ektedir",
      "attachmentIds": [58, 59]
    }
  }
}
```

### Agent Provider (Port: 8081)

#### Web Scraper
```http
POST /agents/web-scraper
Content-Type: application/json

{
  "url": "https://example.com",
  "rules": ["title", "content"],
  "model": "huggingface/deepseek/deepseek-v3-0324"
}
```

#### Data Analyst
```http
POST /agent/data-analyst
Content-Type: application/json

{
  "content": "data analysis request",
  "xAxis": "date",
  "yAxis": "value",
  "file": "data.csv"
}
```

### AI Provider (Port: 8082)

#### Text Generation
```http
POST /agent/text-generator
Content-Type: application/json

{
  "content": "generation prompt",
  "maxLength": 2000,
  "format": "markdown"
}
```

## üéØ √ñzellikler

### ‚úÖ Mevcut √ñzellikler
- **Frontend**:
  - G√∂rsel flow edit√∂r√º
  - Drag & drop node ekleme
  - Real-time execution tracking
  - Conditional branching
  - Redux state management
  - TypeScript type safety

- **Backend**:
  - Mikroservis mimarisi
  - PostgreSQL database
  - Email sending
  - PDF generation
  - Multi-attachment support
  - AI model integrations
  - Web scraping capabilities

### üöß Geli≈ütirme A≈üamasƒ±nda
- **Monitoring & Observability**:
  - Distributed tracing
  - Metrics collection
  - Log aggregation
  
- **Advanced Features**:
  - Flow templates
  - Batch processing
  - Scheduling system
  - API rate limiting
  - Caching strategies

- **Security**:
  - JWT authentication
  - Role-based access control
  - API key management

## üß™ Test

### Backend Tests
```bash
# T√ºm testleri √ßalƒ±≈ütƒ±r
mvn test

# Specific service tests
cd mcp-provider && mvn test
cd agent-provider && mvn test
cd ai-provider && mvn test
```

### Frontend Tests
```bash
cd frontend
npm run test
npm run lint
```

## üìà Monitoring

### Health Checks
- **AI Provider**: http://localhost:8082/actuator/health
- **Agent Provider**: http://localhost:8081/actuator/health
- **MCP Provider**: http://localhost:8083/actuator/health

### Metrics
- **Prometheus**: http://localhost:8083/actuator/prometheus
- **Custom Metrics**: Flow execution times, success rates

## ü§ù Katkƒ±da Bulunma

Bu projeye katkƒ±da bulunmak istiyorsanƒ±z:

1. **Repository'yi fork edin**
2. **Feature branch olu≈üturun**: `git checkout -b feature/amazing-feature`
3. **Deƒüi≈üikliklerinizi commit edin**: `git commit -m 'Add amazing feature'`
4. **Branch'i push edin**: `git push origin feature/amazing-feature`
5. **Pull Request olu≈üturun**

### üìù Geli≈ütirme Kurallarƒ±
- **Java**: Google Java Style Guide
- **TypeScript**: ESLint + Prettier
- **Commits**: [Conventional Commits](https://www.conventionalcommits.org/)
- **Test Coverage**: Minimum %80
- **Documentation**: Her yeni √∂zellik dok√ºmante edilmeli

### üêõ Bug Reports
- GitHub Issues kullanƒ±n
- Detaylƒ± a√ßƒ±klama ve reproduce adƒ±mlarƒ± ekleyin
- Log dosyalarƒ±nƒ± ve hata mesajlarƒ±nƒ± payla≈üƒ±n

## üìù Lisans

Bu proje [MIT License](LICENSE) altƒ±nda lisanslanmƒ±≈ütƒ±r.

## üÜò Destek ve ƒ∞leti≈üim

- **üêõ Bug Reports**: [GitHub Issues](https://github.com/[your-username]/ai-agent-automation/issues)
- **üí¨ Discussions**: [GitHub Discussions](https://github.com/[your-username]/ai-agent-automation/discussions)
- **üìñ Wiki**: [Project Wiki](https://github.com/[your-username]/ai-agent-automation/wiki)
- **üìß Email**: [your-email@example.com](mailto:your-email@example.com)

## üìö Kaynaklar ve Referanslar

### üîó Teknoloji Dok√ºmantasyonlarƒ±
- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [Next.js Documentation](https://nextjs.org/docs)
- [React Flow Documentation](https://reactflow.dev/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Redux Toolkit Documentation](https://redux-toolkit.js.org/)

### üéì √ñƒürenme Kaynaklarƒ±
- [Mikroservis Mimarisi](https://microservices.io/)
- [Spring Cloud](https://spring.io/projects/spring-cloud)
- [React Flow Examples](https://reactflow.dev/examples)

## üèÜ Te≈üekk√ºrler

Bu projeyi m√ºmk√ºn kƒ±lan a√ßƒ±k kaynak topluluƒüuna ve a≈üaƒüƒ±daki projelere te≈üekk√ºrler:

- [Spring Boot](https://spring.io/projects/spring-boot) - Backend framework
- [Next.js](https://nextjs.org/) - Frontend framework
- [React Flow](https://reactflow.dev/) - Flow editor
- [Tailwind CSS](https://tailwindcss.com/) - Styling
- [PostgreSQL](https://www.postgresql.org/) - Database

---

<div align="center">

**üöÄ AI Agent Automation Platform**

[![GitHub Stars](https://img.shields.io/github/stars/[your-username]/ai-agent-automation?style=social)](https://github.com/[your-username]/ai-agent-automation/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/[your-username]/ai-agent-automation?style=social)](https://github.com/[your-username]/ai-agent-automation/network/members)

**Geli≈ütirici**: AI Agent Automation Team  
**Versiyon**: 1.0.0  
**Son G√ºncelleme**: 2024  
**Lisans**: MIT

[‚≠ê Star](https://github.com/[your-username]/ai-agent-automation) ‚Ä¢ [üêõ Report Bug](https://github.com/[your-username]/ai-agent-automation/issues) ‚Ä¢ [üí° Request Feature](https://github.com/[your-username]/ai-agent-automation/issues)

</div> 
